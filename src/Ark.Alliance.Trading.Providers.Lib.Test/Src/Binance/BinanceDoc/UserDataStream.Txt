here by the documentation for  USerDataStream ;USDⓈ-M FuturesAccountWebSocket APIFutures Account Balance V2
Futures Account Balance V2(USER_DATA)
API Description
Query account balance info

Method
v2/account.balance

Request
{
    "id": "605a6d20-6588-4cb9-afa0-b0ab087507ba",
    "method": "v2/account.balance",
    "params": {
        "apiKey": "xTaDyrmvA9XT2oBHHjy39zyPzKCvMdtH3b9q4xadkAg2dNSJXQGCxzui26L823W2",
        "timestamp": 1702561978458,
        "signature": "208bb94a26f99aa122b1319490ca9cb2798fccc81d9b6449521a26268d53217a"
    }
}

Request Weight
5

Request Parameters
Name	Type	Mandatory	Description
recvWindow	LONG	NO	
timestamp	LONG	YES	
Response Example
{
    "id": "605a6d20-6588-4cb9-afa0-b0ab087507ba",
    "status": 200,
    "result": [
      {
        "accountAlias": "SgsR",              // unique account code
        "asset": "USDT",  	                // asset name
        "balance": "122607.35137903",        // wallet balance
        "crossWalletBalance": "23.72469206", // crossed wallet balance
        "crossUnPnl": "0.00000000"           // unrealized profit of crossed positions
        "availableBalance": "23.72469206",   // available balance
        "maxWithdrawAmount": "23.72469206",  // maximum amount for transfer out
        "marginAvailable": true,             // whether the asset can be used as margin in Multi-Assets mode
        "updateTime": 1617939110373
      }
    ],
    "rateLimits": [
      {
        "rateLimitType": "REQUEST_WEIGHT",
        "interval": "MINUTE",
        "intervalNum": 1,
        "limit": 2400,
        "count": 20
      }
    ]
}

Previous
Get BNB Burn Status
Next
Futures Account Balance
API Description
Method
Request
Request Weight
Request Parameters
Response Example USDⓈ-M FuturesUser Data StreamsStart User Data Stream
Start User Data Stream (USER_STREAM)
API Description
Start a new user data stream. The stream will close after 60 minutes unless a keepalive is sent. If the account has an active listenKey, that listenKey will be returned and its validity will be extended for 60 minutes.

HTTP Request
POST /fapi/v1/listenKey

Request Weight
1

Request Parameters
None

Response Example
{
  "listenKey": "pqia91ma19a5s61cv6a81va65sdf19v8a65a1a5s61cv6a81va65sdf19v8a65a1"
} USDⓈ-M FuturesUser Data StreamsKeepalive User Data Stream
Keepalive User Data Stream (USER_STREAM)
API Description
Keepalive a user data stream to prevent a time out. User data streams will close after 60 minutes. It's recommended to send a ping about every 60 minutes.

HTTP Request
PUT /fapi/v1/listenKey

Request Weight
1

Request Parameters
None

Response Example
{
    "listenKey": "3HBntNTepshgEdjIwSUIBgB9keLyOCg5qv3n6bYAtktG8ejcaW5HXz9Vx1JgIieg" //the listenkey which got extended
} USDⓈ-M FuturesUser Data StreamsClose User Data Stream
Close User Data Stream (USER_STREAM)
API Description
Close out a user data stream.

HTTP Request
DELETE /fapi/v1/listenKey

Request Weight
1

Request Parameters
None

Response Example
{} Start User Data Stream (USER_STREAM)
API Description
Start a new user data stream. The stream will close after 60 minutes unless a keepalive is sent. If the account has an active listenKey, that listenKey will be returned and its validity will be extended for 60 minutes.

Method
userDataStream.start

Request
{
  "id": "d3df8a61-98ea-4fe0-8f4e-0fcea5d418b0",
  "method": "userDataStream.start",
  "params": {
    "apiKey": "vmPUZE6mv9SD5VNHk4HlWFsOr6aKE2zvsw0MuIgwCIPy6utIco14y7Ju91duEh8A"
  }
}

Request Weight
1

Request Parameters
Name	Type	Mandatory	Description
apiKey	STRING	YES	
Response Example
{
  "id": "d3df8a61-98ea-4fe0-8f4e-0fcea5d418b0",
  "status": 200,
  "result": {
    "listenKey": "xs0mRXdAKlIPDRFrlPcw0qI41Eh3ixNntmymGyhrhgqo7L6FuLaWArTD7RLP"
  },
   "rateLimits": [
    {
      "rateLimitType": "REQUEST_WEIGHT",
      "interval": "MINUTE",
      "intervalNum": 1,
      "limit": 2400,
      "count": 2
    }
  ]
} Keepalive User Data Stream (USER_STREAM)
API Description
Keepalive a user data stream to prevent a time out. User data streams will close after 60 minutes. It's recommended to send a ping about every 60 minutes.

Method
userDataStream.ping

Request
{
  "id": "815d5fce-0880-4287-a567-80badf004c74",
  "method": "userDataStream.ping",
  "params": {
    "apiKey": "vmPUZE6mv9SD5VNHk9HlWFsOr9aLE2zvsw0MuIgwCIPy8atIco14y7Ju91duEh8A"
   }
}

Request Weight
1

Request Parameters
None

Response Example
{
  "id": "815d5fce-0880-4287-a567-80badf004c74",
  "status": 200,
  "result": {
    "listenKey": "3HBntNTepshgEdjIwSUIBgB9keLyOCg5qv3n6bYAtktG8ejcaW5HXz9Vx1JgIieg"
  },
  "rateLimits": [
    {
      "rateLimitType": "REQUEST_WEIGHT",
      "interval": "MINUTE",
      "intervalNum": 1,
      "limit": 2400,
      "count": 2
    }
  ]
} Close User Data Stream (USER_STREAM)
API Description
Close out a user data stream.

Method
userDataStream.stop

Request
{
  "id": "819e1b1b-8c06-485b-a13e-131326c69599",
  "method": "userDataStream.stop",
  "params": {
    "apiKey": "vmPUZE6mv9SD5VNHk9HlWFsOr9aLE2zvsw0MuIgwCIPy8atIco14y7Ju91duEh8A"
  }
}

Request Weight
1

Request Parameters
None

Response Example
{
  "id": "819e1b1b-8c06-485b-a13e-131326c69599",
  "status": 200,
  "result": {},
   "rateLimits": [
    {
      "rateLimitType": "REQUEST_WEIGHT",
      "interval": "MINUTE",
      "intervalNum": 1,
      "limit": 2400,
      "count": 2
    }
  ]
} Event: User Data Stream Expired
Event Description
When the listenKey used for the user data stream turns expired, this event will be pushed.

Notice:

This event is not related to the websocket disconnection.
This event will be received only when a valid listenKey in connection got expired.
No more user data event will be updated after this event received until a new valid listenKey used.
Event Name
listenKeyExpired

Response Example
{
    "e": "listenKeyExpired",    // event type
    "E": "1736996475556",       // event time
    "listenKey":"WsCMN0a4KHUPTQuX6IUnqEZfB1inxmv1qR4kbf1LuEjur5VdbzqvyxqG9TSjVVxv"
} Event: Balance and Position Update
Event Description
Event type is ACCOUNT_UPDATE.

When balance or position get updated, this event will be pushed.

ACCOUNT_UPDATE will be pushed only when update happens on user's account, including changes on balances, positions, or margin type.
Unfilled orders or cancelled orders will not make the event ACCOUNT_UPDATE pushed, since there's no change on positions.
"position" in ACCOUNT_UPDATE: Only symbols of changed positions will be pushed.
When "FUNDING FEE" changes to the user's balance, the event will be pushed with the brief message:

When "FUNDING FEE" occurs in a crossed position, ACCOUNT_UPDATE will be pushed with only the balance B(including the "FUNDING FEE" asset only), without any position P message.
When "FUNDING FEE" occurs in an isolated position, ACCOUNT_UPDATE will be pushed with only the balance B(including the "FUNDING FEE" asset only) and the relative position message P( including the isolated position on which the "FUNDING FEE" occurs only, without any other position message).
The field "m" represents the reason type for the event and may shows the following possible types:

DEPOSIT
WITHDRAW
ORDER
FUNDING_FEE
WITHDRAW_REJECT
ADJUSTMENT
INSURANCE_CLEAR
ADMIN_DEPOSIT
ADMIN_WITHDRAW
MARGIN_TRANSFER
MARGIN_TYPE_CHANGE
ASSET_TRANSFER
OPTIONS_PREMIUM_FEE
OPTIONS_SETTLE_PROFIT
AUTO_EXCHANGE
COIN_SWAP_DEPOSIT
COIN_SWAP_WITHDRAW
The field "bc" represents the balance change except for PnL and commission.

Event Name
ACCOUNT_UPDATE

Response Example
{
  "e": "ACCOUNT_UPDATE",				// Event Type
  "E": 1564745798939,            		// Event Time
  "T": 1564745798938 ,           		// Transaction
  "a":                          		// Update Data
    {
      "m":"ORDER",						// Event reason type
      "B":[                     		// Balances
        {
          "a":"USDT",           		// Asset
          "wb":"122624.12345678",    	// Wallet Balance
          "cw":"100.12345678",			// Cross Wallet Balance
          "bc":"50.12345678"			// Balance Change except PnL and Commission
        },
        {
          "a":"BUSD",           
          "wb":"1.00000000",
          "cw":"0.00000000",         
          "bc":"-49.12345678"
        }
      ],
      "P":[
        {
          "s":"BTCUSDT",          	// Symbol
          "pa":"0",               	// Position Amount
          "ep":"0.00000",            // Entry Price
          "bep":"0",                // breakeven price 
		  "cr":"200",             	// (Pre-fee) Accumulated Realized
          "up":"0",						// Unrealized PnL
          "mt":"isolated",				// Margin Type
          "iw":"0.00000000",			// Isolated Wallet (if isolated position)
          "ps":"BOTH"					// Position Side
        }，
        {
        	"s":"BTCUSDT",
        	"pa":"20",
        	"ep":"6563.66500",
        	"bep":"0",                // breakeven price
        	"cr":"0",
        	"up":"2850.21200",
        	"mt":"isolated",
        	"iw":"13200.70726908",
        	"ps":"LONG"
      	 },
        {
        	"s":"BTCUSDT",
        	"pa":"-10",
        	"ep":"6563.86000",
        	"bep":"6563.6",          // breakeven price
        	"cr":"-45.04000000",
        	"up":"-1423.15600",
        	"mt":"isolated",
        	"iw":"6570.42511771",
        	"ps":"SHORT"
        }
      ]
    } 
} Event: Margin Call
Event Description
When the user's position risk ratio is too high, this stream will be pushed.
This message is only used as risk guidance information and is not recommended for investment strategies.
In the case of a highly volatile market, there may be the possibility that the user's position has been liquidated at the same time when this stream is pushed out.
Event Name
MARGIN_CALL

Response Example
{
    "e":"MARGIN_CALL",    	// Event Type
    "E":1587727187525,		// Event Time
    "cw":"3.16812045",		// Cross Wallet Balance. Only pushed with crossed position margin call
    "p":[					// Position(s) of Margin Call
      {
        "s":"ETHUSDT",		// Symbol
        "ps":"LONG",		// Position Side
        "pa":"1.327",		// Position Amount
        "mt":"CROSSED",		// Margin Type
        "iw":"0",			// Isolated Wallet (if isolated position)
        "mp":"187.17127",	// Mark Price
        "up":"-1.166074",	// Unrealized PnL
        "mm":"1.614445"		// Maintenance Margin Required
      }
    ]
}   Event: Order Update
Event Description
When new order created, order status changed will push such event. event type is ORDER_TRADE_UPDATE.

Side

BUY
SELL
Order Type

LIMIT
MARKET
STOP
STOP_MARKET
TAKE_PROFIT
TAKE_PROFIT_MARKET
TRAILING_STOP_MARKET
LIQUIDATION
Execution Type

NEW
CANCELED
CALCULATED - Liquidation Execution
EXPIRED
TRADE
AMENDMENT - Order Modified
Order Status

NEW
PARTIALLY_FILLED
FILLED
CANCELED
EXPIRED
EXPIRED_IN_MATCH
Time in force

GTC
IOC
FOK
GTX
Working Type

MARK_PRICE
CONTRACT_PRICE
Liquidation and ADL:

If user gets liquidated due to insufficient margin balance:

c shows as "autoclose-XXX"，X shows as "NEW"
If user has enough margin balance but gets ADL:

c shows as “adl_autoclose”，X shows as “NEW”
Expiry Reason

0: None, the default value
1: Order has expired to prevent users from inadvertently trading against themselves
2: IOC order could not be filled completely, remaining quantity is canceled
3: IOC order could not be filled completely to prevent users from inadvertently trading against themselves, remaining quantity is canceled
4: Order has been canceled, as it's knocked out by another higher priority RO (market) order or reversed positions would be opened
5: Order has expired when the account was liquidated
6: Order has expired as GTE condition unsatisfied
7: Order has been canceled as the symbol is delisted
8: The initial order has expired after the stop order is triggered
9: Market order could not be filled completely, remaining quantity is canceled
Event Name
ORDER_TRADE_UPDATE

Response Example
{
  "e":"ORDER_TRADE_UPDATE",		   // Event Type
  "E":1568879465651,			       // Event Time
  "T":1568879465650,			       // Transaction Time
  "o":{								
    "s":"BTCUSDT",			         // Symbol
    "c":"TEST",				           // Client Order Id
      // special client order id:
      // starts with "autoclose-": liquidation order
      // "adl_autoclose": ADL auto close order
      // "settlement_autoclose-": settlement order for delisting or delivery
    "S":"SELL",					         // Side
    "o":"TRAILING_STOP_MARKET",	 // Order Type
    "f":"GTC",					         // Time in Force
    "q":"0.001",				         // Original Quantity
    "p":"0",					           // Original Price
    "ap":"0",					           // Average Price
    "sp":"7103.04",				       // Stop Price. Please ignore with TRAILING_STOP_MARKET order
    "x":"NEW",					         // Execution Type
    "X":"NEW",					         // Order Status
    "i":8886774,				         // Order Id
    "l":"0",					           // Order Last Filled Quantity
    "z":"0",					           // Order Filled Accumulated Quantity
    "L":"0",					           // Last Filled Price
    "N":"USDT",            	     // Commission Asset
    "n":"0",               	     // Commission
    "T":1568879465650,			     // Order Trade Time
    "t":0,			        	       // Trade Id
    "b":"0",			    	         // Bids Notional
    "a":"9.91",					         // Ask Notional
    "m":false,					         // Is this trade the maker side?
    "R":false,					         // Is this reduce only
    "wt":"CONTRACT_PRICE", 		   // Stop Price Working Type
    "ot":"TRAILING_STOP_MARKET", // Original Order Type
    "ps":"LONG",					       // Position Side
    "cp":false,						       // If Close-All, pushed with conditional order
    "AP":"7476.89",				       // Activation Price, only puhed with TRAILING_STOP_MARKET order
    "cr":"5.0",					         // Callback Rate, only puhed with TRAILING_STOP_MARKET order
    "pP": false,                 // If price protection is turned on
    "si": 0,                     // ignore
    "ss": 0,                     // ignore
    "rp":"0",	   					       // Realized Profit of the trade
    "V":"EXPIRE_TAKER",          // STP mode
    "pm":"OPPONENT",             // Price match mode
    "gtd":0,                     // TIF GTD order auto cancel time
    "er":"0"                     // Expiry Reason
  }
} Event: Trade Lite Update
Event Description
Fast trade stream reduces data latency compared original ORDER_TRADE_UPDATE stream. However, it only pushes TRADE Execution Type, and fewer data fields.

Event Name
TRADE_LITE

Response Example
{
  "e":"TRADE_LITE",             // Event Type
  "E":1721895408092,            // Event Time
  "T":1721895408214,            // Transaction Time                          
  "s":"BTCUSDT",                // Symbol
  "q":"0.001",                  // Original Quantity
  "p":"0",                      // Original Price
  "m":false,                    // Is this trade the maker side?
  "c":"z8hcUoOsqEdKMeKPSABslD", // Client Order Id
      // special client order id:
      // starts with "autoclose-": liquidation order
      // "adl_autoclose": ADL auto close order
      // "settlement_autoclose-": settlement order for delisting or delivery
  "S":"BUY",                   // Side
  "L":"64089.20",              // Last Filled Price
  "l":"0.040",                 // Order Last Filled Quantity
  "t":109100866,               // Trade Id
  "i":8886774,                // Order Id
} Event: Account Configuration Update previous Leverage Update
Event Description
When the account configuration is changed, the event type will be pushed as ACCOUNT_CONFIG_UPDATE When the leverage of a trade pair changes, the payload will contain the object ac to represent the account configuration of the trade pair, where s represents the specific trade pair and l represents the leverage When the user Multi-Assets margin mode changes the payload will contain the object ai representing the user account configuration, where j represents the user Multi-Assets margin mode

Event Name
ACCOUNT_CONFIG_UPDATE

Response Example
Payload:

{
    "e":"ACCOUNT_CONFIG_UPDATE",       // Event Type
    "E":1611646737479,		           // Event Time
    "T":1611646737476,		           // Transaction Time
    "ac":{								
    "s":"BTCUSDT",					   // symbol
    "l":25						       // leverage
     
    }
}  
 

Or

{
    "e":"ACCOUNT_CONFIG_UPDATE",       // Event Type
    "E":1611646737479,		           // Event Time
    "T":1611646737476,		           // Transaction Time
    "ai":{							   // User's Account Configuration
    "j":true						   // Multi-Assets Mode
    }
} 


Event: GRID_UPDATE
Event Description
GRID_UPDATE update when a sub order of a grid is filled or partially filled. Strategy Status

NEW
WORKING
CANCELLED
EXPIRED
Event Name
GRID_UPDATE

Response Example
{
	"e": "GRID_UPDATE", // Event Type
	"T": 1669262908216, // Transaction Time
	"E": 1669262908218, // Event Time
	"gu": { 
			"si": 176057039, // Strategy ID
			"st": "GRID", // Strategy Type
			"ss": "WORKING", // Strategy Status
			"s": "BTCUSDT", // Symbol
			"r": "-0.00300716", // Realized PNL
			"up": "16720", // Unmatched Average Price
			"uq": "-0.001", // Unmatched Qty
			"uf": "-0.00300716", // Unmatched Fee
			"mp": "0.0", // Matched PNL
			"ut": 1669262908197 // Update Time
		   }
}


Event: Conditional_Order_Trigger_Reject
Event Description
CONDITIONAL_ORDER_TRIGGER_REJECT update when a triggered TP/SL order got rejected.

Event Name
CONDITIONAL_ORDER_TRIGGER_REJECT

Response Example
{
    "e":"CONDITIONAL_ORDER_TRIGGER_REJECT",      // Event Type
    "E":1685517224945,      // Event Time
    "T":1685517224955,      // me message send Time
    "or":{
      "s":"ETHUSDT",      // Symbol   
      "i":155618472834,      // orderId
      "r":"Due to the order could not be filled immediately, the FOK order has been rejected. The order will not be recorded in the order history",      // reject reason
     }
}  

Event: Algo Order Update
Event Description
When new algo order created, order status changed will push such event. event type is ALGO_UPDATE.

Algo Status

NEW: This status indicates that the conditional order was successfully placed into the Algo Service but has not yet been triggered.
CANCELED: This status signifies that the conditional order has been canceled.
TRIGGERING: This status suggests that the order has met the triggering condition and has been forwarded to the matching engine.
TRIGGERED: This status means that the order has been successfully placed into the matching engine.
FINISHED: This status shows that the triggered conditional order has been filled or canceled in the matching engine.
REJECTED: This status signifies that the conditional order has been denied by the matching engine, such as in scenarios of margin check failures.
EXPIRED: This status denotes that the conditional order has been canceled by the system. An example would be when a user places a GTE_GTC Time-In-Force conditional order but then closes all positions on that symbol, resulting in system-led cancellation of the conditional order.
Event Name
ALGO_UPDATE

Response Example
{
  "e":"ALGO_UPDATE",  // Event Type
  "T":1750515742297,  // Event Time
  "E":1750515742303,  // Transaction Time
  "o":{
    "caid":"Q5xaq5EGKgXXa0fD7fs0Ip",  // Client Algo Id
    "aid":2148719,  // Algo Id
    "at":"CONDITIONAL",  // Algo Type
    "o":"TAKE_PROFIT",  //Order Type
    "s":"BNBUSDT",  //Symbol
    "S":"SELL",  //Side
    "ps":"BOTH",  //Position Side
    "f":"GTC",  //Time in force
    "q":"0.01",  //quantity
    "X":"CANCELED",  //Algo status
    "ai":"",  // order id
    "ap": "0.00000", // avg fill price in matching engine, only display when order is triggered and placed in matching engine
    "aq": "0.00000", // execuated quantity in matching engine, only display when order is triggered and placed in matching engine
    "act": "0", // actual order type in matching engine, only display when order is triggered and placed in matching engine
    "tp":"750",  //Trigger price
    "p":"750", //Order Price
    "V":"EXPIRE_MAKER",  //STP mode
    "wt":"CONTRACT_PRICE", //Working type
    "pm":"NONE",  // Price match mode
    "cp":false,  //If Close-All
    "pP":false, //If price protection is turned on
    "R":false,  // Is this reduce only
    "tt":0,  //Trigger time
    "gtd":0,  // good till time for GTD time in force
    "rm": "Reduce Only reject"  // algo order failed reason
  }